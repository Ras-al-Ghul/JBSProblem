<instance>
	<presentation name="ExampleProblem" maxConstraintArity="4" maximize="false" format="XCSP 2.1_FRODO" />

	<agents nbAgents="7">
		<agent name="agent3" />
		<agent name="agent5" />
		<agent name="agent6" />
		<agent name="agent8" />
		<agent name="agent10" />
		<agent name="agent12" />
		<agent name="agent13" />
	</agents>

	<domains nbDomains="8">
		<domain name="subject3" nbValues="2">2 4</domain>
		<domain name="subject5" nbValues="2">4 7</domain>
		<domain name="subject6" nbValues="2">4 7</domain>
		<domain name="subject8" nbValues="2">7 9</domain>
		<domain name="subject10" nbValues="2">9 11</domain>
		<domain name="subject12" nbValues="1">11</domain>
		<domain name="subject13" nbValues="1">11</domain>
		<domain name="color" nbValues="7">1 2 3 4 5 6 7</domain>
	</domains>

	<variables nbVariables="14">
		<variable name="agent3sub" domain="subject3" agent="agent3" />
		<variable name="agent3col" domain="color" agent="agent3" />
		<variable name="agent5sub" domain="subject5" agent="agent5" />
		<variable name="agent5col" domain="color" agent="agent5" />
		<variable name="agent6sub" domain="subject6" agent="agent6" />
		<variable name="agent6col" domain="color" agent="agent6" />
		<variable name="agent8sub" domain="subject8" agent="agent8" />
		<variable name="agent8col" domain="color" agent="agent8" />
		<variable name="agent10sub" domain="subject10" agent="agent10" />
		<variable name="agent10col" domain="color" agent="agent10" />
		<variable name="agent12sub" domain="subject12" agent="agent12" />
		<variable name="agent12col" domain="color" agent="agent12" />
		<variable name="agent13sub" domain="subject13" agent="agent13" />
		<variable name="agent13col" domain="color" agent="agent13" />
	</variables>

	<relations nbRelations="1">  
		<relation name="COST" arity="1" nbTuples="7" semantics="soft" defaultCost="infinity">
		  1: 1 | 2: 2 | 3: 3 | 4: 4 | 5: 5 | 6: 6 | 7: 7
		</relation>
	</relations>  
	
	<predicates nbPredicates="2">
		<predicate name="NEQ">
			<parameters> int X1 int X2 int Y1 int Y2 </parameters>
			<expression>
				<functional> if( and( eq(Y1, Y2), eq(X1, X2) ), 1000, 0 ) </functional>
			</expression>
		</predicate>
		<predicate name="ISCOLLIDE">
			<parameters> int X1 int X2 int Y1 int Y2 int Z1 int Z2 </parameters>
			<expression>
				<functional> if( and(eq(X1, X2),  and(eq(Y1, Z1), eq(Y2, Z2))) , 20000 , 0 ) </functional>
			</expression>
		</predicate>
	</predicates>

	<constraints nbConstraints="27">
		<!-- Cost of each relation -->
		<constraint name="agent3cost" arity="1" scope="agent3col" reference="COST" />
		<constraint name="agent5cost" arity="1" scope="agent5col" reference="COST" />
		<constraint name="agent6cost" arity="1" scope="agent6col" reference="COST" />
		<constraint name="agent8cost" arity="1" scope="agent8col" reference="COST" />
		<constraint name="agent10cost" arity="1" scope="agent10col" reference="COST" />
		<constraint name="agent12cost" arity="1" scope="agent12col" reference="COST" />
		<constraint name="agent13cost" arity="1" scope="agent13col" reference="COST" />
		<!-- If same color, then can't have same sub -->
		<constraint name="agent3_and_agent5_have_different_sub_if_same_color" arity="4" scope="agent3sub agent5sub agent3col agent5col" reference="NEQ" >
			<parameters> agent3sub agent5sub agent3col agent5col </parameters>
		</constraint>
		<constraint name="agent3_and_agent6_have_different_sub_if_same_color" arity="4" scope="agent3sub agent6sub agent3col agent6col" reference="NEQ" >
			<parameters> agent3sub agent6sub agent3col agent6col </parameters>
		</constraint>
		<constraint name="agent5_and_agent6_have_different_sub_if_same_color" arity="4" scope="agent5sub agent6sub agent5col agent6col" reference="NEQ" >
			<parameters> agent5sub agent6sub agent5col agent6col </parameters>
		</constraint>
		<constraint name="agent5_and_agent8_have_different_sub_if_same_color" arity="4" scope="agent5sub agent8sub agent5col agent8col" reference="NEQ" >
			<parameters> agent5sub agent8sub agent5col agent8col </parameters>
		</constraint>
		<constraint name="agent6_and_agent8_have_different_sub_if_same_color" arity="4" scope="agent6sub agent8sub agent6col agent8col" reference="NEQ" >
			<parameters> agent6sub agent8sub agent6col agent8col </parameters>
		</constraint>
		<constraint name="agent8_and_agent10_have_different_sub_if_same_color" arity="4" scope="agent8sub agent10sub agent8col agent10col" reference="NEQ" >
			<parameters> agent8sub agent10sub agent8col agent10col </parameters>
		</constraint>
		<constraint name="agent10_and_agent12_have_different_sub_if_same_color" arity="4" scope="agent10sub agent12sub agent10col agent12col" reference="NEQ" >
			<parameters> agent10sub agent12sub agent10col agent12col </parameters>
		</constraint>
		<constraint name="agent10_and_agent13_have_different_sub_if_same_color" arity="4" scope="agent10sub agent13sub agent10col agent13col" reference="NEQ" >
			<parameters> agent10sub agent13sub agent10col agent13col </parameters>
		</constraint>
		<constraint name="agent12_and_agent13_have_different_sub_if_same_color" arity="4" scope="agent12sub agent13sub agent12col agent13col" reference="NEQ" >
			<parameters> agent12sub agent13sub agent12col agent13col </parameters>
		</constraint>
		<!-- IsCollide -->
		<constraint name="agent3_and_agent5_don't_collide" arity="4" scope="agent3col agent5col agent3sub agent5sub" reference="ISCOLLIDE" >
			<parameters> agent3col agent5col agent3sub agent5sub 2 4 </parameters>  
		</constraint>
		<constraint name="agent3_and_agent6_don't_collide" arity="4" scope="agent3col agent6col agent3sub agent6sub" reference="ISCOLLIDE" >
			<parameters> agent3col agent6col agent3sub agent6sub 2 4 </parameters>  
		</constraint>
		<constraint name="agent3_and_agent5_don't_collide" arity="4" scope="agent3col agent5col agent3sub agent5sub" reference="ISCOLLIDE" >
			<parameters> agent3col agent5col agent3sub agent5sub 4 7 </parameters>  
		</constraint>
		<constraint name="agent6_and_agent8_don't_collide" arity="4" scope="agent6col agent8col agent6sub agent8sub" reference="ISCOLLIDE" >
			<parameters> agent6col agent8col agent6sub agent8sub 4 7 </parameters>  
		</constraint>
		<constraint name="agent5_and_agent6_don't_collide" arity="4" scope="agent5col agent6col agent5sub agent6sub" reference="ISCOLLIDE" >
			<parameters> agent5col agent6col agent5sub agent6sub 7 4 </parameters>  
		</constraint>
		<constraint name="agent5_and_agent8_don't_collide" arity="4" scope="agent5col agent8col agent5sub agent8sub" reference="ISCOLLIDE" >
			<parameters> agent5col agent8col agent5sub agent8sub 7 9 </parameters>  
		</constraint>
		<constraint name="agent6_and_agent8_don't_collide" arity="4" scope="agent6col agent8col agent6sub agent8sub" reference="ISCOLLIDE" >
			<parameters> agent6col agent8col agent6sub agent8sub 7 9 </parameters>  
		</constraint>
		<constraint name="agent8_and_agent10_don't_collide" arity="4" scope="agent8col agent10col agent8sub agent10sub" reference="ISCOLLIDE" >
			<parameters> agent8col agent10col agent8sub agent10sub 7 9 </parameters>  
		</constraint>
		<constraint name="agent8_and_agent10_don't_collide" arity="4" scope="agent8col agent10col agent8sub agent10sub" reference="ISCOLLIDE" >
			<parameters> agent8col agent10col agent8sub agent10sub 9 11 </parameters>  
		</constraint>
		<constraint name="agent10_and_agent12_don't_collide" arity="4" scope="agent10col agent12col agent10sub agent12sub" reference="ISCOLLIDE" >
			<parameters> agent10col agent12col agent10sub agent12sub 9 11 </parameters>  
		</constraint>
		<constraint name="agent10_and_agent13_don't_collide" arity="4" scope="agent10col agent13col agent10sub agent13sub" reference="ISCOLLIDE" >
			<parameters> agent10col agent13col agent10sub agent13sub 9 11 </parameters>  
		</constraint>
	</constraints>

</instance>
